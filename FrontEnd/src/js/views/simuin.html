<!--
 Copyright (c) 2014, 2019, Oracle and/or its affiliates.
 The Universal Permissive License (UPL), Version 1.0
 -->

<style>
  .modal {
    display: none;
    /* Hidden by default */
    position: fixed;
    /* Stay in place */
    z-index: 1;
    /* Sit on top */
    left: 0;
    top: 0;
    width: 100%;
    /* Full width */
    height: 100%;
    /* Full height */
    overflow: auto;
    /* Enable scroll if needed */
    background-color: rgb(0, 0, 0);
    /* Fallback color */
    background-color: rgba(0, 0, 0, 0.4);
    /* Black w/ opacity */
  }

  /* Modal Content/Box */
  .modal-content {
    margin: 15% auto;
    /* 15% from the top and centered */
    padding: 20px;
    border: 1px solid #888;
    width: 80%;
    /* Could be more or less, depending on screen size */
  }
</style>
<div class="oj-hybrid-padding" style="padding-top: 10px">
  <oj-form-layout style="padding-left: 5%" align="left" direction="row">

    <h1>Simulador de inversión</h1>
    <h3>LLene los campos requeridos para poder continuar.</h3>
    <br />
    <oj-input-number id="importeinput" label-hint="Introducir el importe a invertir 
    (La cantidad debe de ser mayor a 10,000 y menor a 2,000,000):" 
    min=10000 max=2000000 ></oj-input-number>

    <oj-combobox-one id="plazoinversioninput"  label-hint="Plazo de inversión:" required>
      <oj-option value=1>1</oj-option>
      <oj-option value=2>2</oj-option>
      <oj-option value=3>3</oj-option>
      <oj-option value=4>4</oj-option>
      <oj-option value=5>5</oj-option>
    </oj-combobox-one>
    <oj-combobox-one id="tipoinversioninput"  label-hint="Seleccione uno o más tipos de inversiones:" required>
      <oj-option value=1>Tipo de inversión 1</oj-option>
      <oj-option value=2>Tipo de inversión 2</oj-option>
      <oj-option value=3>Tipo de inversión 3</oj-option>
      <oj-option value=4>Tipo de inversión 4</oj-option>
    </oj-combobox-one>
    <div style="padding-left: 10px; padding-bottom: 20px;">
      <oj-table id='table' aria-label='Tipos de inversión' data='[[dataprovider]]'
        selection-mode='{"row": "multiple", "column": "multiple"}' dnd='{"reorder": {"columns": "enabled"}}'
        scroll-policy='loadMoreOnScroll' scroll-policy-options='{"fetchSize": 10}' columns='[{"headerText": "Tipos de inversión", 
                 "field": "tipoinversion",
                 "headerClassName": "oj-sm-only-hide",
                 "className": "oj-sm-only-hide",
                 "resizable": "enabled"}]' style='width: 100%; background-color: white;'>
      </oj-table><br />
    </div>
    <div>
      <oj-button id='iniciarsimulacion' class="oj-button-primary oj-button-lg" on-oj-action="[[getGraficaSimulacion]]">
        INICIAR
        SIMULACION</oj-button>
      <oj-button id='iniciarcomparacion' class="oj-button-primary oj-button-lg" on-oj-action="[[openCompa]]">COMPARAR
        TIPOS DE INVERSIÓN</oj-button>
    </div>
  </oj-form-layout>

  <div id="modalsimu" class="modal">
    <oj-dialog class="modal-content" id="modalsimulador" dialog-title="Plazos de inversión">
      <div slot="body">

        <div id='graficasimulacion'>

          <oj-chart id="barChart" type="bar" orientation="[[orientationValue]]" stack="[[stackValue]]"
            data="[[dataSimulacion]]" animation-on-display="auto" animation-on-data-change="auto" hover-behavior="dim"
            style="width:100%;height:400px;">

            <template slot='itemTemplate' data-oj-as='item'>
              <oj-chart-item value='[[item.data.value]]' group-id='[[ [item.data.plazo] ]]'
                series-id='[[item.data.seleccion]]'>
              </oj-chart-item>
            </template>
          </oj-chart>

        </div>

      </div>
      <div slot="footer">
        <oj-button id="okButton" class="oj-button-primary oj-button-lg" on-oj-action="[[direccionSolicitud]]">Invertir
          Ahora
        </oj-button>
        <oj-button id="okButton" class="oj-button-lg" on-oj-action="[[closeSimu]]">Cerrar
        </oj-button>
      </div>
    </oj-dialog>
  </div>

  <div id="modalcompa" class="modal">
    <oj-dialog class="modal-content" id="modalcomparar" dialog-title="Tipos de inversión">
      <div slot="body">

        <div id='graficacomparacion'>

          <oj-chart id="barChart2" type="bar" orientation="[[orientationValue]]" stack="[[stackValue]]"
            data="[[dataComparacion]]" animation-on-display="auto" animation-on-data-change="auto" hover-behavior="dim"
            style="width:100%;height:400px;">

            <template slot='itemTemplate' data-oj-as='item'>
              <oj-chart-item value='[[item.data.value]]' group-id='[[ [item.data.tipoinversion] ]]'
                series-id='[[item.data.seleccion]]'>
              </oj-chart-item>
            </template>
          </oj-chart>

        </div>

      </div>
      <div slot="footer">
        <oj-button id="okButton" class="oj-button-primary oj-button-lg" on-oj-action="[[direccionSolicitud]]">Invertir
          Ahora
        </oj-button>
        <oj-button id="okButton" class="oj-button-lg" on-oj-action="[[closeCompa]]">Cerrar
        </oj-button>
      </div>
    </oj-dialog>
  </div>

</div>